<%- new_user ||= false %>
<script>

  var category = [
    "<%= new_user ? 'Please choose one of the fields below:' : 'Please choose one of the following -' %>",
    {
      type: 'choose',
      answers: [{
        'text': 'Engineering',
        'key': 'category_name',
        'path': 'timeline'
        },
        {
        'text': 'Product',
        'key': 'category_name',
        'path': 'timeline'
        },
        {
        'text': 'Design',
        'key': 'category_name',
        'path': 'timeline'
        },
        {
        'text': 'Sales',
        'key': 'category_name',
        'path': 'timeline'
        },
        {
        'text': 'Marketing',
        'key': 'category_name',
        'path': 'timeline'
        }
      ]
    }
  ];
  var timeline = [
    'Please choose one your project timeline',
    {
      type: 'choose',
      answers: [{
        'text': '3 days',
        'path': 'expertiseLevel',
        'key': 'timeline'
      },
      {
        'text': '1 week',
        'path': 'expertiseLevel',
        'key': 'timeline'
      },
      {
        'text': '2 weeks',
        'path': 'expertiseLevel',
        'key': 'timeline'
      },
      {
        'text': '3 weeks',
        'path': 'expertiseLevel',
        'key': 'timeline'
      },
      {
        'text': '1 month',
        'path': 'expertiseLevel',
        'key': 'timeline'
      },
      {
        'text': '6 months',
        'path': 'expertiseLevel',
        'key': 'timeline'
      }
      ]
    }
  ];
  var expetise_level = [
    'Please choose the expertise level',
    {
      type: 'choose',
      answers: [{
          'text': 'basic',
          'path': 'budget',
          'key': 'quality'
        },
        {
          'text': 'intermediate',
          'path': 'budget',
          'key': 'quality'
        },
        {
          'text': 'experienced',
          'path': 'budget',
          'key': 'quality'
        }
      ]
    }
  ];
  var budget = [
    'What is your budge estimate for this task?',
    {
      type: 'write',
      path: "<%= new_user ? 'dummy' : 'description' %>",
      key: "budget"
    }
  ];

  var description = [
    'Please give detailed description of what needs to be done by creating a post, meanwhile I\'ll get this started with our workforce',
    {
      type: 'open-modal',
      path: 'notice',
      key: "description",
      answers: [{
        'text': 'Add Description',
        'path': 'description',
        'key': 'quality'
      }]
    }
  ];

  var video = [
    'Please enter your credit card information while I pull the best resources and get this started soon. Remember that I give you a full refund for an unsatisfied service!',
    {
      type: 'write',
      path: 'notice',
      key: "credit-card"
    }
  ];
  var notice = [
    'Please note that we are charging your card with the budget amount',
    {
      type: 'submit',
      answers: [{
        'text': 'Ok',
        'path': '/goomps/new'
      }]
    }
  ];

  var sign_up = [
    'Sounds good, please sign up to help us understand more about your task',
    {
      type: 'visit',
      answers: [{
        'text': 'Twitter',
        'path': '/users/auth/twitter'
      },{
        'text': 'Facebook',
        'path': '/users/auth/facebook'
      },{
        'text': 'LinkedIn',
        'path': '/users/auth/linkedin'
      },{
        'text': 'Email',
        'path': '/users/sign_up'
      }]
    }
  ];
  var login = [
    'Cool, please login to get to your tasks',
    {
      type: 'visit',
      answers: [{
        'text': 'Twitter',
        'path': '/users/auth/twitter'
      },{
        'text': 'Facebook',
        'path': '/users/auth/facebook'
      },{
        'text': 'LinkedIn',
        'path': '/users/auth/linkedin'
      },{
        'text': 'Email',
        'path': '/users/sign_in'
      }]
    }
  ];
  var dummy = [
    '',
    {
      type: 'submitDummy',
      path: 'signup',
      key: 'submit-dummy'
    }
  ];

  <%- if new_user %>
    var configs = {
      greeting: [
        'Hi, I am Kriya. Welcome! I am an AI powered bot that helps in getting your work done through high quality, cost effective project managers & freelancers across the world.',
        {
          type: 'choose',
          answers: [
            {
              'text': 'Create Task',
              'path': 'options'
            },
            {
              'text': 'Sign In',
              'path': 'login'
            }
          ]
        }
      ],
      options: category,
      timeline: timeline,
      expertiseLevel: expetise_level,
      budget: budget,
      dummy: dummy,
      login: login,
      signup: sign_up
    };
  <%- else %>
    var configs = {
      greeting: category,
      timeline: timeline,
      expertiseLevel: expetise_level,
      budget: budget,
      description: description
    };
  <%- end %>

  new Chat(
    configs,
    {
      targetNode: '#chat'
    }
  );
</script>
